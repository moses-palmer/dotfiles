# Let split panes keep the current directory
bind-key '"' split-window -c "#{pane_current_path}"
bind-key % split-window -h -c "#{pane_current_path}"

# Ctrl+f for full-screen
bind-key -n C-f resize-pane -Z

# Bindings to toggle pane
bind-key -n M-h run-shell "~/.local/bin/__tmux-toggle-pane -hb"
bind-key -n M-j run-shell "~/.local/bin/__tmux-toggle-pane -v"
bind-key -n M-k run-shell "~/.local/bin/__tmux-toggle-pane -vb"
bind-key -n M-l run-shell "~/.local/bin/__tmux-toggle-pane -h"

# Easily navigate windows
bind-key -n S-M-Left previous-window
bind-key -n S-M-Right next-window
bind-key w choose-tree -Zw -F \
    "#{?window_active,#[fg=white#,bold]‚ñ∂ ,#[fg=gray]  }#W"

# Yell to all panes
bind-key -n C-y setw synchronize-panes

# Ctrl+PgUp to enter copy mode and scroll up
bind-key -n C-PPage copy-mode -eu

# Enable copy pasting
bind-key C-p paste-buffer
bind-key -n C-M-c run-shell -b "~/.local/bin/__tmux-transfer-clipboard"

# Enable colours
set-option -g default-terminal xterm-256color

# Use vi bindings
set-option -g mode-keys vi

# Increase the history limit
set-option -g history-limit 10000

# Prevent pause when switching modes in vim
set-option -sg escape-time 0

# Do not terminate server when no session are active
set-option -g exit-empty off

# Update status line every 5 seconds
set-option -g status-interval 5

# Let the status format determine separators
set-window-option -g window-status-separator ''
set-option -wg window-status-format ' #I:#W‚éπ'
set-option -wg window-status-current-format ' #I:#W‚éπ'
set-option -g status-left ''
set-option -g status-right '‚é∏üñ• #H %H:%M'

# Apply the non-nested style
run-shell  '__tmux-nested off'
